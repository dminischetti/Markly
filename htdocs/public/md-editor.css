:root {
  color-scheme: light dark;
  --font-sans: 'Inter', 'SF Pro Text', system-ui, -apple-system, BlinkMacSystemFont, 'Helvetica Neue', sans-serif;
  --font-mono: 'JetBrains Mono', SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', monospace;
  --oklch-surface: oklch(0.985 0.015 250);
  --oklch-layer: oklch(0.96 0.03 250);
  --oklch-border: oklch(0.82 0.04 248);
  --oklch-text: oklch(0.2 0.05 255);
  --oklch-accent: oklch(0.7 0.2 235);
  --oklch-accent-soft: color-mix(in oklch, var(--oklch-accent) 18%, transparent);
  --oklch-border-strong: oklch(0.68 0.05 246);
}

:root[data-theme="dark"],
[data-theme="dark"] {
  --oklch-surface: oklch(0.18 0.03 245);
  --oklch-layer: oklch(0.24 0.04 245);
  --oklch-border: oklch(0.48 0.05 250);
  --oklch-text: oklch(0.96 0.02 250);
  --oklch-accent: oklch(0.7 0.21 235);
  --oklch-accent-soft: color-mix(in oklch, var(--oklch-accent) 26%, transparent);
  --oklch-border-strong: oklch(0.6 0.06 246);
}

body {
  margin: 0;
  font-family: var(--font-sans);
  background: var(--oklch-layer);
  color: var(--oklch-text);
}

.wrap {
  width: 100%;
}

.editor-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  min-height: 60vh;
  border-radius: 1.25rem;
  overflow: hidden;
  border: 1px solid color-mix(in oklch, var(--oklch-border) 55%, transparent);
  background: color-mix(in oklch, var(--oklch-surface) 94%, transparent);
}

.editor-pane,
.preview-pane {
  padding: clamp(2.25rem, 2vw + 1.5rem, 3rem);
  position: relative;
}

.editor-pane {
  border-right: 1px solid color-mix(in oklch, var(--oklch-border) 45%, transparent);
}

.preview-pane {
  background: color-mix(in oklch, var(--oklch-layer) 90%, transparent);
}

.pane-header {
  display: none;
}

.formatbar {
  position: absolute;
  top: 1.35rem;
  left: 50%;
  transform: translate(-50%, -50%);
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  background: color-mix(in oklch, var(--oklch-layer) 88%, transparent);
  border-radius: 999px;
  padding: 0.35rem 0.6rem;
  border: 1px solid color-mix(in oklch, var(--oklch-border) 52%, transparent);
  box-shadow: 0 16px 32px rgba(15, 23, 42, 0.12);
  z-index: 5;
}

.formatbar__group {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
}

.formatbar__divider {
  width: 1px;
  height: 1.6rem;
  background: color-mix(in oklch, var(--oklch-border) 55%, transparent);
}

.format-btn {
  width: 2.2rem;
  height: 2.2rem;
  border-radius: 0.65rem;
  border: 1px solid transparent;
  background: transparent;
  color: color-mix(in oklch, var(--oklch-border-strong) 45%, transparent);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 1.05rem;
  cursor: pointer;
  transition: 180ms cubic-bezier(0.4, 0, 0.2, 1);
}

.format-btn:hover,
.format-btn:focus-visible,
.format-btn[aria-pressed="true"] {
  outline: none;
  border-color: color-mix(in oklch, var(--oklch-accent) 38%, transparent);
  color: var(--oklch-accent);
  background: var(--oklch-accent-soft);
  transform: translateY(-1px);
}

textarea#editor {
  width: 100%;
  min-height: clamp(55vh, 70vh, 75vh);
  border: none;
  background: transparent;
  font-family: var(--font-mono);
  font-size: 1rem;
  line-height: 1.75;
  resize: vertical;
  color: inherit;
  padding-top: 1.75rem;
}

textarea#editor:focus-visible {
  outline: none;
}

.editor-resizer {
  width: 2px;
  background: linear-gradient(180deg, transparent, color-mix(in oklch, var(--oklch-border) 55%, transparent) 50%, transparent);
  position: relative;
  cursor: col-resize;
}

.editor-resizer::after {
  content: '';
  position: absolute;
  inset: 0;
  transform: translateX(-50%);
  width: 18px;
  background: transparent;
}

.editor-resizer.is-active,
.editor-resizer:hover {
  background: linear-gradient(180deg, transparent, color-mix(in oklch, var(--oklch-accent) 45%, transparent) 50%, transparent);
}

.preview {
  max-width: 100%;
  height: 100%;
  overflow: auto;
  line-height: 1.75;
}

.preview h1,
.preview h2,
.preview h3,
.preview h4,
.preview h5,
.preview h6 {
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
}

.preview p {
  margin: 1rem 0;
}

.preview pre {
  background: color-mix(in oklch, var(--oklch-layer) 82%, transparent);
  padding: 1rem;
  border-radius: 0.85rem;
  overflow: auto;
}

.preview code {
  font-family: var(--font-mono);
  background: color-mix(in oklch, var(--oklch-layer) 82%, transparent);
  padding: 0.15rem 0.35rem;
  border-radius: 0.4rem;
}

.footer {
  margin-top: 1.25rem;
  font-size: 0.85rem;
  color: color-mix(in oklch, var(--oklch-border-strong) 50%, transparent);
  text-align: center;
}

@media (max-width: 900px) {
  .editor-grid {
    grid-template-columns: 1fr;
  }

  .editor-pane {
    border-right: none;
    border-bottom: 1px solid color-mix(in oklch, var(--oklch-border) 45%, transparent);
  }

  .formatbar {
    left: 50%;
    transform: translate(-50%, -50%);
  }
}
